{"version":3,"sources":["components/Checkbox.js","components/LegislatorSections.js","components/SpinningIcon.js","SettingsPage.js","lib/FBAsync.js","components/FacebookPagePlugin.js","lib/text.js","SendPage.js","lib/useLegislatorData.js","App.js","serviceWorker.js","index.js"],"names":["Checkbox","_ref","_ref$isIndeterminate","isIndeterminate","props","Object","objectWithoutProperties","react_default","a","createElement","assign","type","ref","checkbox","indeterminate","defaultProps","PositionSelector","_ref2","legislators","selectedIdMap","_ref2$onChange","onChange","positionTotalMap","useMemo","reduce","agg","_ref3","id","position","positionCountMap","_ref4","handleToggle","useCallback","e","toggledPosition","target","value","filter","_ref5","map","_ref6","_ref7","_ref8","keys","p","key","components_Checkbox","checked","LegislatorSection","_ref9","_ref9$area","area","_ref9$legislators","_ref9$selectedIdMap","_ref9$onChange","selectedCount","_ref10","length","handleSectionToggle","_ref11","legislatorMap","_ref12","handleSingleToggle","selectedId","concat","_ref13","name","LegislatorSections","_ref$legislators","_ref$selectedLegislat","selectedLegislatorIds","_ref$onSelectionChang","doneLegislatorsMap","onSelectionChange","legislatorsByArea","areas","legislator","push","Fragment","DURATION","flip","keyframes","_templateObject","styled","_ref$icons","icons","_useState","useState","_useState2","slicedToArray","idx","setIdx","iconCount","useEffect","handle","setTimeout","clearTimeout","role","aria-label","_templateObject2","SECONDS_EACH_LEGISLATOR","PageContainer","div","SettingsPage_templateObject","Jumbotron","header","SettingsPage_templateObject2","Emphasis","em","_templateObject3","Textarea","textarea","_templateObject4","SettingsPage","_ref$msg","msg","_ref$onMsgChange","onMsgChange","_ref$doneLegislatorsM","_ref$onSubmit","onSubmit","selectionSectionRef","useRef","hasStarted","legislatorToSendCount","doneStr","totalSeconds","timeStr","Math","floor","components_SpinningIcon","onClick","current","scrollIntoView","behavior","block","components_LegislatorSections","disabled","fbPromise","window","FB","Promise","resolve","fbAsyncInit","then","init","appId","process","version","React","memo","_ref$tabs","tabs","_ref$href","href","fbRoot","useLayoutEffect","FBAsync","XFBML","parse","className","data-href","data-tabs","join","data-small-header","data-adapt-container-width","data-show-facepile","data-hide-cta","data-width","data-height","BREAK","$$BREAK","traverseElems","elems","callback","result","i","returnValue","traverseForStrings","elem","Array","isValidElement","children","Children","toArray","newChildren","every","child","cloneElement","newLineRegExp","RegExp","SendPage_templateObject","Button","button","SendPage_templateObject2","Note","SendPage_templateObject3","SendPage","_ref$currentIdx","currentIdx","selectedLegislators","_ref$onNext","onNext","onBack","_selectedLegislators$","pridewatchpage","desc","facebookpage","SendPage_PageContainer","placeholder","select","components_FacebookPagePlugin","str","tokens","tokenized","split","token","line","match","legislatorData","useLegislatorData","setLegislators","__webpack_require__","t","bind","data","default","rows","DEFAULT_MESSAGE","POSITION_ORDER","支持同婚","支持專法","反對同婚","未表態","App","_useLegislatorData","_useLegislatorData2","page","setPage","_useState3","_useState4","setMsg","_useState5","_useState6","setLegislatorIds","_useState7","_useState8","doneLegislatorMap","setLegislatorDone","handleSelectionChange","sort","aId","bId","handleSettingsSubmit","src_SettingsPage","findIndex","src_SendPage","objectSpread","defineProperty","Error","Boolean","location","hostname","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.5abe2a49.chunk.js","sourcesContent":["import React from 'react';\n\n// https://github.com/facebook/react/issues/1798#issuecomment-417047897\nfunction Checkbox({ isIndeterminate = false, ...props }) {\n  const setCheckboxRef = checkbox => {\n    if (checkbox) {\n      checkbox.indeterminate = isIndeterminate;\n    }\n  };\n\n  return <input type=\"checkbox\" ref={setCheckboxRef} {...props} />;\n}\n\nCheckbox.defaultProps = {\n  isIndeterminate: false,\n};\n\nexport default Checkbox;\n","import React, { useMemo, useCallback } from 'react';\nimport Checkbox from './Checkbox';\n\n/**\n * Section of all legislators and controls\n *\n * @param {Object[]} props.legislator\n * @param {String[]} props.selectedLegislatorIds\n * @param {Object} props.doneLegislatorsMap - id to true map\n * @param {function} props.onSelectionChange\n */\nfunction LegislatorSections({\n  legislators = [],\n  selectedLegislatorIds = [],\n  doneLegislatorsMap = {},\n  onSelectionChange = () => {},\n}) {\n  const legislatorsByArea = useMemo(\n    () =>\n      legislators.reduce((areas, legislator) => {\n        areas[legislator.area] = areas[legislator.area] || [];\n        areas[legislator.area].push(legislator);\n        return areas;\n      }, {}),\n    [legislators]\n  );\n\n  const selectedIdMap = useMemo(\n    () =>\n      selectedLegislatorIds.reduce((agg, id) => {\n        agg[id] = true;\n        return agg;\n      }, {}),\n    [selectedLegislatorIds]\n  );\n\n  return (\n    <>\n      <PositionSelector\n        legislators={legislators}\n        selectedIdMap={selectedIdMap}\n        onChange={onSelectionChange}\n      />\n      {Object.keys(legislatorsByArea).map(area => (\n        <LegislatorSection\n          key={area}\n          area={area}\n          selectedIdMap={selectedIdMap}\n          legislators={legislatorsByArea[area]}\n          onChange={onSelectionChange}\n        />\n      ))}\n    </>\n  );\n}\n\nfunction PositionSelector({ legislators, selectedIdMap, onChange = () => {} }) {\n  // position to total map\n  const positionTotalMap = useMemo(\n    () =>\n      legislators.reduce((agg, { id, position }) => {\n        agg[position] = agg[position] || 0;\n        agg[position] += 1;\n\n        return agg;\n      }, {}),\n    [legislators]\n  );\n\n  // position to count map\n  const positionCountMap = useMemo(\n    () =>\n      legislators.reduce((agg, { id, position }) => {\n        agg[position] = agg[position] || 0;\n        if (selectedIdMap[id]) {\n          agg[position] += 1;\n        }\n        return agg;\n      }, {}),\n    [legislators, selectedIdMap]\n  );\n\n  const handleToggle = useCallback(\n    e => {\n      const toggledPosition = e.target.value;\n\n      if (positionCountMap[toggledPosition] === 0) {\n        // select all in platform\n        onChange(\n          legislators\n            .filter(\n              ({ position, id }) =>\n                position === toggledPosition || selectedIdMap[id]\n            )\n            .map(({ id }) => id)\n        );\n      } else {\n        // deselect all\n        onChange(\n          legislators\n            .filter(\n              ({ position, id }) =>\n                position !== toggledPosition && selectedIdMap[id]\n            )\n            .map(({ id }) => id)\n        );\n      }\n    },\n    [positionCountMap, legislators, onChange, selectedIdMap]\n  );\n\n  return (\n    <ul>\n      {Object.keys(positionTotalMap).map(p => (\n        <li key={p}>\n          <label>\n            <Checkbox\n              value={p}\n              onChange={handleToggle}\n              checked={positionCountMap[p] === positionTotalMap[p]}\n              isIndeterminate={\n                0 < positionCountMap[p] &&\n                positionCountMap[p] < positionTotalMap[p]\n              }\n            />{' '}\n            {p}\n          </label>\n        </li>\n      ))}\n    </ul>\n  );\n}\n\n/**\n * Legislator control of one section area\n *\n * @param {string} props.area - Legislator section area\n * @param {object[]} props.legislators - legislators of this section\n * @param {object} props.selectedIdMap\n * @param {function} props.onChange\n */\nfunction LegislatorSection({\n  area = '',\n  legislators = [],\n  selectedIdMap = {},\n  onChange = () => {},\n}) {\n  const selectedCount = legislators.filter(({ id }) => selectedIdMap[id])\n    .length;\n\n  const handleSectionToggle = useCallback(\n    e => {\n      if (selectedCount === 0) {\n        // Select all\n        onChange(legislators.map(({ id }) => id));\n      } else {\n        const legislatorMap = legislators.reduce((agg, { id }) => {\n          agg[id] = true;\n          return agg;\n        }, {});\n        // deselect all in legislators\n        onChange(Object.keys(selectedIdMap).filter(id => !legislatorMap[id]));\n      }\n    },\n    [legislators, onChange, selectedCount]\n  );\n\n  const handleSingleToggle = useCallback(\n    e => {\n      const selectedId = e.target.value;\n\n      if (selectedIdMap[selectedId]) {\n        // Deselect this\n        onChange(Object.keys(selectedIdMap).filter(id => id !== selectedId));\n      } else {\n        // Select this\n        onChange(Object.keys(selectedIdMap).concat(selectedId));\n      }\n    },\n    [legislators, selectedIdMap, onChange]\n  );\n\n  return (\n    <section>\n      <header>\n        <label>\n          <Checkbox\n            onChange={handleSectionToggle}\n            isIndeterminate={\n              0 < selectedCount && selectedCount < legislators.length\n            }\n            checked={selectedCount === legislators.length}\n          />{' '}\n          {area}\n        </label>\n      </header>\n      <ul>\n        {legislators.map(({ id, name }) => (\n          <li key={id}>\n            <label>\n              <Checkbox\n                key={id}\n                value={id}\n                onChange={handleSingleToggle}\n                checked={!!selectedIdMap[id]}\n              />{' '}\n              {name}\n            </label>\n          </li>\n        ))}\n      </ul>\n    </section>\n  );\n}\n\nexport default LegislatorSections;\n","import React, { useEffect, useState } from 'react';\nimport styled from '@emotion/styled';\nimport { keyframes } from '@emotion/core';\n\nconst DURATION = 1; // seconds\n\nfunction SpinningIcon({ icons = [], ...props }) {\n  const [idx, setIdx] = useState(0);\n  const iconCount = icons.length;\n\n  useEffect(() => {\n    const handle = setTimeout(() => {\n      setIdx((idx + 1) % iconCount);\n    }, DURATION * 1000);\n\n    return () => clearTimeout(handle);\n  }, [idx, iconCount]);\n\n  return (\n    <span key={idx} role=\"img\" aria-label=\"Icon\" {...props}>\n      {icons[idx]}\n    </span>\n  );\n}\n\nconst flip = keyframes`\n  from {\n    transform: perspective(400px) rotateY(90deg);\n  }\n\n  to {\n    transform: perspective(400px) rotateY(-90deg);\n  }\n`;\n\nexport default styled(SpinningIcon)`\n  font-size: 84px;\n  line-height: 1;\n  display: inline-block;\n  transform: perspective(400px) rotateY(90deg);\n  animation: ${flip} 1s cubic-bezier(0, 0.37, 1, 0.63);\n`;\n","import React, { useRef } from 'react';\nimport styled from '@emotion/styled';\nimport LegislatorSections from './components/LegislatorSections';\nimport SpinningIcon from './components/SpinningIcon';\n\nconst SECONDS_EACH_LEGISLATOR = 20;\n\nconst PageContainer = styled.div`\n  padding: 40px;\n`;\n\nconst Jumbotron = styled.header`\n  text-align: center;\n  padding: 30px 0;\n\n  h1 {\n    font-size: 40px;\n    font-weight: normal;\n    letter-spacing: 0.125em;\n    margin: 0;\n  }\n\n  h2 {\n    margin: 16px 0 0;\n    font-size: 14px;\n    letter-spacing: 0.5em;\n    font-weight: 200;\n  }\n`;\n\nconst Emphasis = styled.em`\n  color: #845bf4;\n  font-style: normal;\n`;\n\nconst Textarea = styled.textarea`\n  width: 100%;\n  border-radius: 4px;\n  padding: 8px;\n  border: 2px solid currentColor;\n  background: transparent;\n  color: #f29b61;\n`;\n\nfunction SettingsPage({\n  msg = '',\n  onMsgChange = () => {},\n  legislators = [],\n  selectedLegislatorIds = [],\n  doneLegislatorsMap = {},\n  onSelectionChange = () => {},\n  onSubmit = () => {},\n}) {\n  const selectionSectionRef = useRef(null);\n  const hasStarted = Object.keys(doneLegislatorsMap).length > 0;\n  const legislatorToSendCount = selectedLegislatorIds.filter(\n    id => !doneLegislatorsMap[id]\n  ).length;\n  const doneStr = hasStarted\n    ? `還有 ${legislatorToSendCount} 位委員要傳，`\n    : '';\n\n  const totalSeconds = SECONDS_EACH_LEGISLATOR * legislatorToSendCount;\n  const timeStr =\n    totalSeconds > 120\n      ? ` ${Math.floor(totalSeconds / 60)} 分鐘`\n      : ` ${totalSeconds} 秒`;\n\n  return (\n    <PageContainer>\n      <Jumbotron>\n        <SpinningIcon icons={['🏠', '👨‍👨‍👧‍👦', '🏠', '👩‍👩‍👧‍👦', '🏠', '👨‍👩‍👧‍👦']} />\n        <h1>\n          我<Emphasis>愛家</Emphasis>・我聯絡\n        </h1>\n        <h2>平權立院鍵盤陳情</h2>\n      </Jumbotron>\n\n      <section>\n        <p>\n          讓同志能以<Emphasis>婚姻</Emphasis>成家，就是「\n          <Emphasis>愛家</Emphasis>」的表現。\n          在平權法案通過之前，讓我們動動手指頭，不分異同地向立法委員們表達我們\n          <Emphasis>希望讓同志可以結婚</Emphasis>的心聲吧！\n        </p>\n        <p>👨‍👨‍👧‍👦👨‍👩‍👧‍👦👩‍👩‍👧‍👦</p>\n        <label>\n          <h3>你想要跟委員們說什麼呢？</h3>\n          <Textarea value={msg} onChange={e => onMsgChange(e.target.value)} />\n        </label>\n        <button\n          type=\"button\"\n          onClick={() =>\n            selectionSectionRef.current.scrollIntoView({\n              behavior: 'smooth',\n              block: 'start',\n            })\n          }\n        >\n          下一步\n        </button>\n      </section>\n\n      <section ref={selectionSectionRef}>\n        <h3>請選擇要陳情的立委</h3>\n        <button\n          type=\"button\"\n          onClick={() => onSelectionChange(legislators.map(({ id }) => id))}\n        >\n          全選啦！\n        </button>\n        <p>\n          您選了 {selectedLegislatorIds.length} 名委員{doneStr}，大概花\n          {timeStr}就能傳完。\n        </p>\n        <LegislatorSections\n          legislators={legislators || []}\n          selectedLegislatorIds={selectedLegislatorIds}\n          doneLegislatorsMap={doneLegislatorsMap}\n          onSelectionChange={onSelectionChange}\n        />\n        <button\n          type=\"button\"\n          onClick={onSubmit}\n          disabled={legislatorToSendCount === 0}\n        >\n          {hasStarted ? '繼續' : '開始'}陳情\n        </button>\n      </section>\n    </PageContainer>\n  );\n}\n\nexport default SettingsPage;\n","const fbPromise = (window.FB\n  ? Promise.resolve(window.FB)\n  : new Promise(resolve => {\n      window.fbAsyncInit = () => {\n        resolve(window.FB);\n      };\n    })\n).then(FB => {\n  FB.init({\n    appId: process.env.REACT_APP_FB_ID,\n    version: 'v3.2',\n  });\n  return FB;\n});\n\nexport default fbPromise;\n","import React, { useLayoutEffect, useRef } from 'react';\n\nimport FBAsync from 'lib/FBAsync';\n\nfunction FacebookPagePlugin({ tabs = ['messages', 'timeline'], href = '' }) {\n  const fbRoot = useRef(null);\n\n  useLayoutEffect(() => {\n    FBAsync.then(FB => {\n      FB.XFBML.parse(fbRoot.current);\n    });\n  });\n\n  return (\n    <div ref={fbRoot}>\n      <div\n        className=\"fb-page\"\n        data-href={href}\n        data-tabs={tabs.join(',')}\n        data-small-header=\"true\"\n        data-adapt-container-width=\"false\"\n        data-show-facepile=\"false\"\n        data-hide-cta=\"true\"\n        data-width=\"320\"\n        data-height=\"500\"\n      />\n    </div>\n  );\n}\n\nexport default React.memo(FacebookPagePlugin);\n","import React from 'react';\n\nconst BREAK = { $$BREAK: true };\n\n/**\n * Invokes traverseForStrings for each item in elems.\n * When `BREAK` is received, break traversal immediately.\n *\n * @param {*} elem Array of elements to traverse\n * @param {Function} callback passed to traverseForStrings()\n */\nfunction traverseElems(elems, callback) {\n  const result = [];\n  for (let i = 0; i < elems.length; i += 1) {\n    const returnValue = traverseForStrings(elems[i], callback);\n    if (returnValue === BREAK) break;\n    result.push(returnValue);\n  }\n\n  return result;\n}\n\n/**\n * Traverses elem tree for strings, returns callback(string)\n * @param {*} elem\n * @param {Function} callback\n */\nfunction traverseForStrings(elem, callback) {\n  switch (true) {\n    case typeof elem === 'string':\n      return callback(elem);\n\n    case elem instanceof Array:\n      return traverseElems(elem, callback);\n\n    case React.isValidElement(elem): {\n      const children = React.Children.toArray(elem.props.children);\n      const newChildren = traverseElems(children, callback);\n\n      // No need to clone element if new children is identical with the original\n      //\n      if (\n        children.length === newChildren.length &&\n        children.every((child, idx) => child === newChildren[idx])\n      ) {\n        return elem;\n      }\n\n      return React.cloneElement(elem, {}, newChildren);\n    }\n    default:\n      return null;\n  }\n}\n\nfunction flatternPureStrings(tokens) {\n  return tokens.every(token => typeof token === 'string')\n    ? tokens.join()\n    : tokens;\n}\n\nconst newLinePattern = '(\\r\\n|\\r|\\n)';\n// Spaces around new line pattern should be safe to trim, because we are placing <br>\n// on the newLinePattern.\nconst newLineRegExp = RegExp(` *${newLinePattern} *`, 'g');\n\n/**\n * Place <br> for each line break.\n * Automatically trims away leading & trailing line breaks.\n *\n * @param {*} elem React element, string, array of string & react elements\n */\nexport function nl2br(elem) {\n  return traverseForStrings(elem, str => {\n    if (!str) return str;\n\n    const tokenized = str\n      .split(newLineRegExp)\n      .filter(token => token !== '') // Filter out empty strings\n      .map((line, idx) =>\n        line.match(newLineRegExp) ? <br key={`br${idx}`} /> : line\n      );\n\n    // If the tokenized contains only string, join into one single string.\n    //\n    return flatternPureStrings(tokenized);\n  });\n}\n","import React from 'react';\nimport styled from '@emotion/styled';\n\nimport FacebookPagePlugin from 'components/FacebookPagePlugin';\nimport { nl2br } from 'lib/text';\n\nconst PageContainer = styled.div`\n  display: flex;\n  padding: 40px;\n\n  section {\n    flex: 1;\n    padding-left: 24px;\n    &:first-of-type {\n      padding-left: 0;\n    }\n  }\n`;\n\nconst Button = styled.button`\n  font-size: 32px;\n`;\n\nconst Note = styled.textarea`\n  width: 100%;\n  height: 100%;\n`;\n\nfunction SendPage({\n  msg = '',\n  currentIdx = 0 /* -1 when done */,\n  selectedLegislators = [],\n\n  onMsgChange = () => {},\n  onNext = () => {},\n  onBack = () => {},\n}) {\n  if (currentIdx === -1) {\n    return <div>都做完囉！謝謝您 m(_ _)m</div>;\n  }\n\n  const {\n    name,\n    pridewatchpage,\n    position,\n    desc,\n    facebookpage,\n  } = selectedLegislators[currentIdx];\n\n  return (\n    <PageContainer>\n      <section>\n        <Note\n          placeholder=\"把陳情文字貼在這裡，方便複製貼上\"\n          onChange={e => onMsgChange(e.target.value)}\n          value={msg}\n          onClick={e => e.target.select()}\n        />\n      </section>\n      <section>\n        <FacebookPagePlugin href={facebookpage} />\n      </section>\n      <section>\n        <h1>\n          <a href={pridewatchpage}>{name}</a>\n        </h1>\n        <h2>{position}</h2>\n        <p>{nl2br(desc)}</p>\n        <Button onClick={onNext}>下一位 》</Button>\n      </section>\n    </PageContainer>\n  );\n}\n\nexport default SendPage;\n","import { useState, useEffect, useMemo } from 'react';\n\n// shared storage of legislators\nlet legislatorData = null;\n\n/**\n * @returns {[object[], object]} legislators & legislatorMap (id to legislator)\n */\nfunction useLegislatorData() {\n  const [legislators, setLegislators] = useState(legislatorData);\n\n  useEffect(() => {\n    if (legislators) return;\n\n    import('data/legislators.json').then(data =>\n      setLegislators((legislatorData = data.default.rows))\n    );\n  });\n\n  return [\n    legislators,\n    useMemo(\n      () =>\n        (legislators || []).reduce((agg, legislator) => {\n          agg[legislator.id] = legislator;\n          return agg;\n        }, {}),\n      [legislators]\n    ),\n  ];\n}\n\nexport default useLegislatorData;\n","import React, { useState, useCallback } from 'react';\nimport SettingsPage from './SettingsPage';\nimport SendPage from './SendPage';\nimport useLegislatorData from 'lib/useLegislatorData';\n\nconst DEFAULT_MESSAGE =\n  '我是ＸＸ區的選民，請委員支持用合憲的法律，讓同志可以結婚。';\n\nconst POSITION_ORDER = {\n  支持同婚: 1,\n  支持專法: 2,\n  反對同婚: 3,\n  未表態: 4,\n};\n\nfunction App() {\n  const [legislators, legislatorMap] = useLegislatorData();\n  const [page, setPage] = useState('settings'); // current page. enum: 'settings', 'send'\n  const [msg, setMsg] = useState(DEFAULT_MESSAGE); // message template\n  const [selectedLegislatorIds, setLegislatorIds] = useState([]); // list of selected legislator ID, with done legislators always in front.\n  const [doneLegislatorMap, setLegislatorDone] = useState({}); // {[done legislator ID]: true, ...}\n\n  const handleSelectionChange = useCallback(\n    selectedLegislatorIds => {\n      setLegislatorIds(\n        selectedLegislatorIds.sort((aId, bId) => {\n          // First, put done legislators in front\n          if (doneLegislatorMap[aId] && !doneLegislatorMap[bId]) return -1;\n          if (!doneLegislatorMap[aId] && doneLegislatorMap[bId]) return 1;\n\n          // Then compare their positions\n          const aPos = POSITION_ORDER[legislatorMap[aId].position];\n          const bPos = POSITION_ORDER[legislatorMap[bId].position];\n          return aPos - bPos;\n        })\n      );\n    },\n    [setLegislatorIds, doneLegislatorMap, legislatorMap]\n  );\n\n  const handleSettingsSubmit = useCallback(() => setPage('send'), [setPage]);\n\n  switch (page) {\n    case 'settings':\n      return (\n        <SettingsPage\n          msg={msg}\n          onMsgChange={setMsg}\n          legislators={legislators}\n          selectedLegislatorIds={selectedLegislatorIds}\n          onSelectionChange={handleSelectionChange}\n          doneLegislatorMap={doneLegislatorMap}\n          onSubmit={handleSettingsSubmit}\n        />\n      );\n\n    case 'send': {\n      const selectedLegislators = selectedLegislatorIds.map(\n        id => legislatorMap[id]\n      );\n      const currentIdx = selectedLegislatorIds.findIndex(\n        id => !doneLegislatorMap[id]\n      );\n\n      return (\n        <SendPage\n          msg={msg}\n          currentIdx={currentIdx}\n          selectedLegislators={selectedLegislators}\n          onMsgChange={setMsg}\n          onNext={() =>\n            setLegislatorDone({\n              ...doneLegislatorMap,\n              [selectedLegislators[currentIdx].id]: true,\n            })\n          }\n          onBack={() => setPage('settings')}\n        />\n      );\n    }\n    default:\n      throw new Error('Wrong page settings');\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'normalize.css';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}