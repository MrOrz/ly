(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,n,t){},15:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(6),c=t.n(o),i=(t(14),t(5)),u=t(7),l=t(1),s=t(2),f=t(3);function d(){var e=Object(s.a)(["\n  padding: 40px;\n"]);return d=function(){return e},e}var m=f.a.div(d());var v=function(e){var n=e.msg,t=void 0===n?"":n,o=e.onMsgChange,c=void 0===o?function(){}:o,i=e.legislators,u=void 0===i?[]:i,l=e.selectedLegislatorIds,s=void 0===l?[]:l,f=e.doneLegislatorsMap,d=void 0===f?{}:f,v=e.onSelectionChange,g=void 0===v?function(){}:v,h=e.onSubmit,b=void 0===h?function(){}:h,p=Object(r.useRef)(null),E=Object.keys(d).length>0,w=s.filter(function(e){return!d[e]}).length,j=E?"\u9084\u6709 ".concat(w," \u4f4d\u59d4\u54e1\u8981\u50b3\uff0c"):"";return a.a.createElement(m,null,a.a.createElement("header",null,a.a.createElement("h1",null,"\u6211\u611b\u5bb6\u30fb\u6211\u806f\u7d61"),a.a.createElement("h2",null,"\u5e73\u6b0a\u7acb\u9662\u9375\u76e4\u9673\u60c5")),a.a.createElement("section",null,a.a.createElement("h3",null,"\u60f3\u8981\u8ddf\u7acb\u59d4\u5011\u8aaa\u4ec0\u9ebc\u5462\uff1f"),a.a.createElement("textarea",{value:t,onChange:function(e){return c(e.target.value)}}),a.a.createElement("button",{type:"button",onClick:function(){return p.current.scrollIntoView({behavior:"smooth",block:"start"})}},"\u4e0b\u4e00\u6b65")),a.a.createElement("section",{ref:p},a.a.createElement("h3",null,"\u8acb\u9078\u64c7\u8981\u9673\u60c5\u7684\u7acb\u59d4"),a.a.createElement("button",{type:"button",onClick:function(){return g(u.map(function(e){return e.id}))}},"\u5168\u9078\u5566\uff01"),a.a.createElement("p",null,"\u60a8\u9078\u4e86 ",s.length," \u540d\u59d4\u54e1",j,"\uff0c\u5927\u6982\u8981\u82b1"," 10 \u79d2","\u3002"),a.a.createElement("button",{type:"button",onClick:b,disabled:0===w},E?"\u7e7c\u7e8c":"\u958b\u59cb","\u9673\u60c5")))},g=(window.FB?Promise.resolve(window.FB):new Promise(function(e){window.fbAsyncInit=function(){e(window.FB)}})).then(function(e){return e.init({appId:"411731149364306",version:"v3.2"}),e});var h=a.a.memo(function(e){var n=e.tabs,t=void 0===n?["messages","timeline"]:n,o=e.href,c=void 0===o?"":o,i=Object(r.useRef)(null);return Object(r.useEffect)(function(){g.then(function(e){e.XFBML.parse(i.current)})}),a.a.createElement("div",{ref:i},a.a.createElement("div",{className:"fb-page","data-href":c,"data-tabs":t.join(","),"data-small-header":"true","data-adapt-container-width":"true","data-show-facepile":"false","data-hide-cta":"true"}))}),b={$$BREAK:!0};function p(e,n){for(var t=[],r=0;r<e.length;r+=1){var a=E(e[r],n);if(a===b)break;t.push(a)}return t}function E(e,n){switch(!0){case"string"===typeof e:return n(e);case e instanceof Array:return p(e,n);case a.a.isValidElement(e):var t=a.a.Children.toArray(e.props.children),r=p(t,n);return t.length===r.length&&t.every(function(e,n){return e===r[n]})?e:a.a.cloneElement(e,{},r);default:return null}}var w=RegExp(" *".concat("(\r\n|\r|\n)"," *"),"g");function j(){var e=Object(s.a)(["\n  width: 100%;\n  height: 100%;\n"]);return j=function(){return e},e}function O(){var e=Object(s.a)(["\n  font-size: 32px;\n"]);return O=function(){return e},e}function k(){var e=Object(s.a)(["\n  display: flex;\n  padding: 40px;\n\n  section {\n    flex: 1;\n    padding-left: 24px;\n    &:first-of-type {\n      padding-left: 0;\n    }\n  }\n"]);return k=function(){return e},e}var y=f.a.div(k()),x=f.a.button(O()),C=f.a.textarea(j());var B=function(e){var n=e.msg,t=void 0===n?"":n,r=e.currentIdx,o=void 0===r?0:r,c=e.selectedLegislators,i=void 0===c?[]:c,u=e.onMsgChange,l=void 0===u?function(){}:u,s=e.onNext,f=void 0===s?function(){}:s;if(e.onBack,-1===o)return a.a.createElement("div",null,"\u90fd\u505a\u5b8c\u56c9\uff01\u8b1d\u8b1d\u60a8 m(_ _)m");var d=i[o],m=d.name,v=d.prideWatchPage,g=d.position,b=d.desc,p=d.facebookPage;return a.a.createElement(y,null,a.a.createElement("section",null,a.a.createElement(C,{placeholder:"\u628a\u9673\u60c5\u6587\u5b57\u8cbc\u5728\u9019\u88e1\uff0c\u65b9\u4fbf\u8907\u88fd\u8cbc\u4e0a",onChange:function(e){return l(e.target.value)},value:t,onClick:function(e){return e.target.select()}})),a.a.createElement("section",null,a.a.createElement(h,{href:p})),a.a.createElement("section",null,a.a.createElement("h1",null,a.a.createElement("a",{href:v},m)),a.a.createElement("h2",null,g),a.a.createElement("p",null,E(b,function(e){if(!e)return e;var n,t=e.split(w).filter(function(e){return""!==e}).map(function(e,n){return e.match(w)?a.a.createElement("br",{key:"br".concat(n)}):e});return(n=t).every(function(e){return"string"===typeof e})?n.join():n})),a.a.createElement(x,{onClick:f},"\u4e0b\u4e00\u4f4d \u300b")))},I=null;var S=function(){var e=Object(r.useState)(I),n=Object(l.a)(e,2),a=n[0],o=n[1];return Object(r.useEffect)(function(){a||t.e(3).then(t.t.bind(null,16,3)).then(function(e){return o(I=e.default)})}),[a,Object(r.useMemo)(function(){return(a||[]).reduce(function(e,n){return e[n.id]=n,e},{})},[a])]},M="\u6211\u662f\uff38\uff38\u5340\u7684\u9078\u6c11\uff0c\u8acb\u59d4\u54e1\u652f\u6301\u7528\u5408\u61b2\u7684\u6cd5\u5f8b\uff0c\u8b93\u540c\u5fd7\u53ef\u4ee5\u7d50\u5a5a\u3002",L={"\u652f\u6301\u540c\u5a5a":1,"\u652f\u6301\u5c08\u6cd5":2,"\u53cd\u5c0d\u540c\u5a5a":3,"\u672a\u8868\u614b":4};var A=function(){var e=S(),n=Object(l.a)(e,2),t=n[0],o=n[1],c=Object(r.useState)("settings"),s=Object(l.a)(c,2),f=s[0],d=s[1],m=Object(r.useState)(M),g=Object(l.a)(m,2),h=g[0],b=g[1],p=Object(r.useState)([]),E=Object(l.a)(p,2),w=E[0],j=E[1],O=Object(r.useState)({}),k=Object(l.a)(O,2),y=k[0],x=k[1];switch(f){case"settings":return a.a.createElement(v,{msg:h,onMsgChange:b,legislators:t,selectedLegislatorIds:w,onSelectionChange:function(e){j(e.sort(function(e,n){return y[e]&&!y[n]?-1:!y[e]&&y[n]?1:L[o[e].position]-L[o[n].position]}))},doneLegislatorMap:y,onSubmit:function(){return d("send")}});case"send":var C=w.map(function(e){return t.find(function(n){return n.id===e})}),I=w.findIndex(function(e){return!y[e]});return a.a.createElement(B,{msg:h,currentIdx:I,selectedLegislators:C,onMsgChange:b,onNext:function(){return x(Object(u.a)({},y,Object(i.a)({},C[I].id,!0)))},onBack:function(){return d("settings")}});default:throw new Error("Wrong page settings")}};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},8:function(e,n,t){e.exports=t(15)}},[[8,1,2]]]);
//# sourceMappingURL=main.941a6d7e.chunk.js.map